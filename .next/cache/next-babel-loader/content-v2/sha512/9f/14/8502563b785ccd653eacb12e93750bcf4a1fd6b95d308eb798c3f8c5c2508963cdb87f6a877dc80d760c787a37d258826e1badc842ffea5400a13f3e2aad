{"ast":null,"code":"import Web3 from 'web3'; //I had to convert to create-next-app  in order to take advantage of the dotenv functionality\n//TODO: https://github.com/vercel/next.js/issues/3352 check and try solution\n\nvar web3;\n\nfunction loadWeb3() {\n  if (window.ethereum) {\n    try {\n      window.web3 = new Web3(window.ethereum);\n      return window.web3;\n    } catch (error) {\n      if (error.code === 4001) {\n        window.alert(\"Permission denied!\");\n      }\n    }\n  } else if (window.web3) {\n    window.web3 = new Web3(window.web3.currentProvider);\n    return window.web3;\n  } else {\n    window.alert('Non-Ethereum browser detected. You should consider trying out Metamask!');\n  }\n}\n\n;\n\nif (true) {\n  web3 = loadWeb3();\n} else // server side\n  {\n    var provider = new Web3.providers.HttpProvider(process.env.NEXT_PUBLIC_RPC_URL);\n    web3 = new Web3(provider);\n  }\n\nexport default web3;","map":{"version":3,"sources":["/Users/amoghbarthwal/Desktop/kickstart/ethereum/web3.js"],"names":["Web3","web3","loadWeb3","window","ethereum","error","code","alert","currentProvider","provider","providers","HttpProvider","process","env","NEXT_PUBLIC_RPC_URL"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB,C,CACA;AACA;;AAEA,IAAIC,IAAJ;;AAEA,SAASC,QAAT,GAAoB;AAClB,MAAIC,MAAM,CAACC,QAAX,EAAqB;AACnB,QAAI;AACFD,MAAAA,MAAM,CAACF,IAAP,GAAc,IAAID,IAAJ,CAASG,MAAM,CAACC,QAAhB,CAAd;AACA,aAAOD,MAAM,CAACF,IAAd;AACD,KAHD,CAIA,OAAOI,KAAP,EAAc;AACZ,UAAIA,KAAK,CAACC,IAAN,KAAe,IAAnB,EAAyB;AACvBH,QAAAA,MAAM,CAACI,KAAP,CAAa,oBAAb;AACD;AACF;AACF,GAVD,MAWK,IAAIJ,MAAM,CAACF,IAAX,EAAiB;AACpBE,IAAAA,MAAM,CAACF,IAAP,GAAc,IAAID,IAAJ,CAASG,MAAM,CAACF,IAAP,CAAYO,eAArB,CAAd;AACA,WAAOL,MAAM,CAACF,IAAd;AACD,GAHI,MAIA;AACHE,IAAAA,MAAM,CAACI,KAAP,CAAa,yEAAb;AACD;AACF;;AAAA;;AAED,UAAmC;AACjCN,EAAAA,IAAI,GAAGC,QAAQ,EAAf;AACD,CAFD,MAGK;AACL;AACE,QAAMO,QAAQ,GAAG,IAAIT,IAAI,CAACU,SAAL,CAAeC,YAAnB,CACfC,OAAO,CAACC,GAAR,CAAYC,mBADG,CAAjB;AAGAb,IAAAA,IAAI,GAAG,IAAID,IAAJ,CAASS,QAAT,CAAP;AACD;;AAED,eAAeR,IAAf","sourcesContent":["import Web3 from 'web3';\n//I had to convert to create-next-app  in order to take advantage of the dotenv functionality\n//TODO: https://github.com/vercel/next.js/issues/3352 check and try solution\n\nlet web3;\n\nfunction loadWeb3() {\n  if (window.ethereum) {\n    try {\n      window.web3 = new Web3(window.ethereum);\n      return window.web3;\n    }\n    catch (error) {\n      if (error.code === 4001) {\n        window.alert(\"Permission denied!\");\n      }\n    }\n  }\n  else if (window.web3) {\n    window.web3 = new Web3(window.web3.currentProvider);\n    return window.web3;\n  }\n  else {\n    window.alert('Non-Ethereum browser detected. You should consider trying out Metamask!')\n  }\n};\n\nif (typeof window !== 'undefined') {\n  web3 = loadWeb3();\n}\nelse // server side\n{ \n  const provider = new Web3.providers.HttpProvider(\n    process.env.NEXT_PUBLIC_RPC_URL\n  );\n  web3 = new Web3(provider);\n}\n\nexport default web3;"]},"metadata":{},"sourceType":"module"}